{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","views/Pages/Login/login.svg","views/Pages/Login/Login.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","module","exports","Login","state","email","password","handleChange","e","setState","target","id","handleSubmit","preventDefault","user","console","log","axios","post","then","res","localStorage","setItem","data","token","usertype","sam","getItem","sam1","props","history","push","catch","err","alert","className","ref","this","containerRef","src","loginImg","htmlFor","type","name","placeholder","onChange","required","onClick","React","Component"],"mappings":"6KAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,EAZT,mC,oBCAAQ,EAAOC,QAAU,IAA0B,mC,oNCiBrBC,G,kNAGpBC,MAAO,CAKLC,MAAM,GAMNC,SAAS,I,EASXC,aAAe,SAACC,GACd,EAAKC,SAAL,eACGD,EAAEE,OAAOC,GAAKH,EAAEE,OAAOf,S,EAM5BiB,aAAe,SAACJ,GACdA,EAAEK,iBAKF,IAAMC,EAAO,CACXT,MAAO,EAAKD,MAAMC,MAClBC,SAAU,EAAKF,MAAME,UAGvBS,QAAQC,IAAIF,GAIZG,IAAMC,KAAK,+CAA+CJ,GACvDK,MAAK,SAAAC,GACHC,aAAaC,QAAQ,QAAQF,EAAIG,KAAKC,OACtCH,aAAaC,QAAQ,OAAOF,EAAIG,KAAKE,UACtCV,QAAQC,IAAII,GACZ,IAAMM,EAAKL,aAAaM,QAAQ,SAC1BC,EAAMP,aAAaM,QAAQ,QACjCZ,QAAQC,IAAIU,GACZX,QAAQC,IAAIY,GACX,EAAKC,MAAMC,QAAQC,KAAK,gBAGxBC,OAAM,SAAAC,GACTC,MAAM,6BACN,EAAKL,MAAMC,QAAQC,KAAK,a,mFA1C1B,IAAM1B,EAAQgB,aAAaM,QAAQ,YAGnCZ,QAAQC,IAAIX,K,+BA8CZ,OACE,yBAAK8B,UAAU,iBAAiBC,IAAKC,KAAKR,MAAMS,cAC9C,yBAAKH,UAAU,UAAf,SACA,yBAAKA,UAAU,WACb,yBAAKA,UAAU,SACb,yBAAKI,IAAKC,OAEZ,yBAAKL,UAAU,QACb,yBAAKA,UAAU,cACb,2BAAOM,QAAQ,SAAf,SACA,2BAAOC,KAAK,OAAO/B,GAAG,QAASgC,KAAK,QAAQC,YAAY,QAAQC,SAAUR,KAAK9B,aAAcuC,UAAQ,KAEvG,yBAAKX,UAAU,cACb,2BAAOM,QAAQ,YAAf,YACA,2BAAOC,KAAK,WAAW/B,GAAG,WAAWgC,KAAK,WAAWC,YAAY,WAAWC,SAAUR,KAAK9B,aAAcuC,UAAQ,OAIvH,yBAAKX,UAAU,UACb,4BAAQO,KAAK,SAASP,UAAU,MAAMY,QAASV,KAAKzB,cAApD,UAIF,yBAAKuB,UAAU,gB,GA1Faa,IAAMC","file":"static/js/44.739e3112.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","module.exports = __webpack_public_path__ + \"static/media/login.9a76e74e.svg\";","/**\r\n * login module\r\n * @module login\r\n * \r\n * \r\n */\r\n\r\n\r\nimport React from \"react\";\r\nimport loginImg from \"./login.svg\";\r\nimport axios from \"axios\"\r\nimport  \"./App.scss\";\r\n\r\n/**\r\n * Class to create Login object\r\n * \r\n */\r\n export default class Login extends React.Component {\r\n  \r\n\r\n  state ={\r\n    /**\r\n     * @property {String} email persons email\r\n     * \r\n     */\r\n    email:'',\r\n\r\n    /**\r\n     * @property {String} password persons password\r\n     * \r\n     */\r\n    password:'',\r\n    \r\n  }\r\n  componentDidMount() {\r\n    const email = localStorage.getItem('password') ;\r\n    // const password =  localStorage.getItem('email') ;\r\n    // this.setState({ email, password });\r\n    console.log(email)\r\n  }\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /**\r\n   * @property {Function} handleSubmit runs when user clicks submit button\r\n   */\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(this.state);\r\n  //   const { email, password } = this.state;\r\n  // localStorage.setItem('password', password);\r\n  // localStorage.setItem('email', email);\r\n    const user = {   \r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    \r\n    console.log(user)\r\n    /**\r\n     * @property {Function} post sends data for authorization purpose\r\n     */\r\n    axios.post('https://employee-referals.herokuapp.com/auth',user)\r\n      .then(res => {\r\n         localStorage.setItem('token',res.data.token);\r\n         localStorage.setItem('type',res.data.usertype);\r\n        console.log(res)\r\n        const sam =localStorage.getItem('token');\r\n        const sam1 =localStorage.getItem('type');\r\n        console.log(sam)\r\n        console.log(sam1)\r\n         this.props.history.push(\"dashboard\");\r\n       \r\n       \r\n      }).catch(err => {\r\n      alert(\"Invalid Email or Password\")\r\n      this.props.history.push(\"login\");\r\n       \r\n      })\r\n      \r\n  }\r\n\r\n    render() {\r\n    return (\r\n      <div className=\"base-container\" ref={this.props.containerRef} >\r\n        <div className=\"header\">Login</div>\r\n        <div className=\"content\" >\r\n          <div className=\"image\">\r\n            <img src={loginImg} />\r\n          </div>\r\n          <div className=\"form\" >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">email</label>\r\n              <input type=\"text\" id=\"email\"  name=\"email\" placeholder=\"email\" onChange={this.handleChange} required/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"password\" onChange={this.handleChange} required/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer\" >\r\n          <button type=\"button\" className=\"btn\" onClick={this.handleSubmit}>\r\n            Login\r\n          </button >\r\n        </div>\r\n        <div className=\"footer\">\r\n          {/* <a href=\"\">forgot password</a> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}